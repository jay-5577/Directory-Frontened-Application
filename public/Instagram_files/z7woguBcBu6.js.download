;/*FB_PKG_DELIM*/

__d("PolarisFXCALSSOLoggerFalcoEvent",["PolarisFalcoLogger"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({PASSWORDLESS_FLOW_TROUBLE_LOGGING_IN_PAGE_VIEW:"passwordless_flow_trouble_logging_in_page_view",PASSWORDLESS_FLOW_TROUBLE_LOGGING_IN_PAGE_BUTTON_TAPPED:"passwordless_flow_trouble_logging_in_page_button_tapped",PASSWORDLESS_FLOW_USER_REQUESTED_RESET_LINK:"passwordless_flow_user_requested_reset_link",PASSWORDLESS_FLOW_CONFIRM_PASSWORD_BUTTON_TAPPED:"passwordless_flow_confirm_password_button_tapped",PASSWORDLESS_FLOW_CONFIRM_PASSWORD_PAGE_VIEW:"passwordless_flow_confirm_password_page_view",PASSWORDLESS_FLOW_CREATE_PASSWORD_BUTTON_TAPPED:"passwordless_flow_create_password_button_tapped",PASSWORDLESS_FLOW_FORGOT_PASSWORD_BUTTON_TAPPED:"passwordless_flow_forgot_password_button_tapped"});b=Object.freeze({SETTINGS_ACTIVITY_CLICK:"settings_activity_click",SETTINGS_ACTIVITY_VIEW:"settings_activity_view",VIEW_SESSIONS_ALREADY_LOGGED_IN:"view_sessions_already_logged_in",VIEW_SESSIONS_REQUIRE_PASSWORD:"view_sessions_require_password"});var h={falco:!0,pigeon:!1};c=function(){function a(){}a.log=function(a){d("PolarisFalcoLogger").FalcoLogger.log("fx_sso",a(),{},h)};return a}();g.FXSSOLoggerPasswordlessEvents=a;g.FXSSOLoggerSettingsActivityEvents=b;g.FXCALSSOLoggerFalcoEvent=c}),98);
__d("PolarisFXCalSSOLogger",["PolarisConfig","PolarisFXCALSSOLoggerFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.event,c=a.target_account_id;c=c===void 0?null:c;a=a.target_account_type;a=a===void 0?null:a;var e={event:b,initiator_account_id:d("PolarisConfig").getViewerId(),initiator_account_type:1,target_account_id:c,target_account_type:a};d("PolarisFXCALSSOLoggerFalcoEvent").FXCALSSOLoggerFalcoEvent.log(function(){return e})}g.logEvent=a}),98);
__d("PolarisIGCoreLabeledTextInput",["cx","PolarisIGCoreTextInput","guid","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=c("guid")(),d.$2=function(a){var b=d.props.onBlur;b&&b(a)},d.$3=function(a){var b=d.props.onFocus;b&&b(a)},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.render=function(){var a=this.props,b=a["aria-describedby"],d=a["aria-label"],e=a["aria-labelledby"],f=a.autoCapitalize,g=a.autoComplete,h=a.backgroundColor,j=a.centeredLabel;j=j===void 0?!1:j;var k=a.dangerouslySetClassName,l=a.disabled,m=a.endAdornment,n=a.hasError,o=a.maxLength,p=a.name,q=a.onChange,r=a.onKeyDown,s=a.placeholder,t=a.readOnly,u=a.required,v=a.type;a=a.value;var w=a.toString().length>0;k={__className:c("joinClasses")("_adrq"+(w?" _adrr":""),k==null?void 0:k.__className)};w=i.jsx("span",{className:"_adrs"+(w?" _adrt":"")+(w&&j?" _adru":""),children:s});j=i.jsxs(i.Fragment,{children:[w,m]});return i.jsx(c("PolarisIGCoreTextInput"),{"aria-describedby":b,"aria-label":d,"aria-labelledby":e,autoCapitalize:f,autoComplete:g,backgroundColor:h,dangerouslySetClassName:k,disabled:l,endAdornment:j,hasError:n,id:this.$1,maxLength:o,name:p,onBlur:this.$2,onChange:q,onFocus:this.$3,onKeyDown:r,placeholder:s,readOnly:t,required:u,type:v,value:a})};return b}(i.PureComponent);a.defaultProps={type:"text"};g["default"]=a}),98);
__d("PolarisUHLAccountRecoveryLink.react",["cx","fbt","FastLink","PolarisIGCoreBox","PolarisIGCoreText","PolarisLoginLogger","PolarisNavigationActions","PolarisQEHelper","PolarisQueryParamsHelper","PolarisUA","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b,e=d("react-redux-wwwig").useDispatch(),f=function(){return e(d("PolarisNavigationActions").closeAccountSwitcher())},g=function(b){d("PolarisLoginLogger").logLoginEvent({event_name:"recover_your_account_click"}),a.isAccountSwitcherOpen&&f()},h=i._("Recover your account"),k=i._("Can't reset your password?");h=a.isLoginScreen?h:k;k=d("PolarisUA").isMobile()?j.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-button",children:h}):h;h="/accounts/account_recovery/";h=d("PolarisQueryParamsHelper").appendQueryParams(h,{username:(b=a.username)!=null?b:""});return d("PolarisUA").isMobile()&&!(a.isAccountSwitcherOpen&&d("PolarisQEHelper").hasAccountSwitching())?j.jsx(c("PolarisIGCoreBox"),{direction:"row",justifyContent:"center",marginBottom:2,marginEnd:10,marginStart:10,paddingY:1,children:j.jsx(c("FastLink"),{href:h,onClick:g,children:k},"uhl")}):j.jsx(c("FastLink"),{className:d("PolarisUA").isMobile()?"_aepm"+(a.isAccountSwitcherOpen&&d("PolarisQEHelper").hasAccountSwitching()?" _aepn":""):"_aayn",href:h,onClick:g,children:k},"uhl")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisResetPasswordPage.react",["cx","IGCoreDialog","PolarisAPITypes","PolarisFXCALSSOLoggerFalcoEvent","PolarisFXCalSSOLogger","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreLabeledTextInput","PolarisIGCoreText","PolarisLinkBuilder","PolarisLoginLogger","PolarisOrBar.react","PolarisPageIdentifierConstants","PolarisPageMetadata.react","PolarisPlainShell.react","PolarisQueryParams","PolarisRecaptcha","PolarisResetPasswordStrings","PolarisRoutes","PolarisShell","PolarisUA","PolarisUHLAccountRecoveryLink.react","gkx","keyMirror","react","usePolarisIGCorePreviousValue"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useState,m=c("keyMirror")({fxcal:null}),n=c("gkx")("4776");function a(a){var b=a.apiStatus,e=a.history,f=a.isCaptchaEnabled,g=a.isLoggedIn,h=a.isResetProcessing,o=a.location,p=a.modal,q=a.onSubmitPasswordReset,r=a.query;a=l(!1);var s=a[0],t=a[1];a=function(){var a=d("PolarisQueryParams").parseQueryParams(),b=a.source;a=a.username;if(r!=null&&r!=="")return r;else if(b===m.fxcal&&a!=null&&a!=="")return a;return""};a=l(a());var u=a[0],v=a[1];a=l(!1);var w=a[0],x=a[1],y=c("usePolarisIGCorePreviousValue")(s),z=c("usePolarisIGCorePreviousValue")(p),A=function(){return d("PolarisQueryParams").parseQueryParams().source},B=j(function(){var a=A();return a===m.fxcal?m.fxcal:null},[]);k(function(){var a=B();a===m.fxcal&&d("PolarisFXCalSSOLogger").logEvent({event:d("PolarisFXCALSSOLoggerFalcoEvent").FXSSOLoggerPasswordlessEvents.PASSWORDLESS_FLOW_TROUBLE_LOGGING_IN_PAGE_VIEW});y===!0&&!s&&(typeof window!=="undefined"&&window.grecaptcha&&window.grecaptcha.reset());z!==p&&x(!1);!h&&b===d("PolarisAPITypes").APIStatusValues.failure&&t(!1)},[B,s,p,o.pathname,e,y,z,h,b]);var C="",D=function(){var a=A();return a==="api-login"||a==="fxcal"},E=function(){return d("PolarisQueryParams").parseQueryParams().app_id},F=function(){return d("PolarisQueryParams").parseQueryParams().source_account_id},G=function(a){v(a.target.value)},H=function(a){a&&a.preventDefault();if(L())return;a=B();a===m.fxcal&&d("PolarisFXCalSSOLogger").logEvent({event:d("PolarisFXCALSSOLoggerFalcoEvent").FXSSOLoggerPasswordlessEvents.PASSWORDLESS_FLOW_TROUBLE_LOGGING_IN_PAGE_BUTTON_TAPPED});var b=E(),c=F();q(u,C,a,b,c)};a=function(a){d("PolarisLoginLogger").logLoginEvent({event_name:"account_recovery_page_signup_clicked"})};o=function(a){d("PolarisLoginLogger").logLoginEvent({event_name:"account_recovery_page_login_clicked"}),D()&&(a.preventDefault(),e.goBack())};var I=function(a){t(!0),C=a},J=function(){x(!0)},K=function(){var a=g&&r!=null&&r!=="";return i.jsx("form",{method:"post",onSubmit:H,children:i.jsx(c("PolarisIGCoreLabeledTextInput"),{disabled:a||h,name:"cppEmailOrUsername",onChange:G,placeholder:d("PolarisResetPasswordStrings").EMAIL_OR_USERNAME_OR_PHONE,value:u})})},L=function(){return u.length===0};w=i.jsxs(c("PolarisIGCoreBox"),{children:[i.jsx(c("PolarisPageMetadata.react"),{id:c("PolarisPageIdentifierConstants").resetPassword,title:d("PolarisResetPasswordStrings").RESET_PASSWORD_BUTTON}),p&&!w?i.jsx(d("IGCoreDialog").IGCoreDialog,{body:p.body,title:p.title,children:i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:J,children:d("PolarisGenericStrings").OK_TEXT})}):null,i.jsx(c("PolarisIGCoreBox"),{border:g&&!d("PolarisUA").isMobile(),color:g&&!d("PolarisUA").isMobile()?"ig-primary-background":void 0,flex:"grow",justifyContent:"center",marginEnd:"auto",marginStart:"auto",maxWidth:388,children:i.jsxs(c("PolarisIGCoreBox"),{marginBottom:g?4:void 0,marginTop:g?4:void 0,children:[i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",marginBottom:4,marginTop:6,children:i.jsx("span",{className:"_9-1a"})}),i.jsx(c("PolarisIGCoreBox"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,children:i.jsx(c("PolarisIGCoreText").Section,{textAlign:"center",children:d("PolarisResetPasswordStrings").ACCOUNT_RECOVERY_TITLE})}),i.jsx(c("PolarisIGCoreBox"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,children:i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",textAlign:"center",children:d("PolarisResetPasswordStrings").ACCOUNT_RECOVERY_PARAGRAPH_WITH_PHONE})}),i.jsx(c("PolarisIGCoreBox"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,children:K()}),f&&i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",marginBottom:4,marginEnd:0,marginStart:0,marginTop:0,children:i.jsx(c("PolarisRecaptcha"),{onChange:I,size:"normal"})}),i.jsxs(c("PolarisIGCoreBox"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,children:[i.jsx(c("PolarisIGCoreButton"),{disabled:L()||f&&!s||h,onClick:H,children:d("PolarisResetPasswordStrings").SEND_LOGIN_LINK}),n?i.jsx(c("PolarisUHLAccountRecoveryLink.react"),{isAccountSwitcherOpen:!1,isLoginScreen:!1,username:u}):null]}),!g&&B()!==m.fxcal&&i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreBox"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:4,children:i.jsx(c("PolarisOrBar.react"),{})}),i.jsx(c("PolarisIGCoreBox"),{marginBottom:4,marginEnd:11,marginStart:11,marginTop:0,children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",href:d("PolarisRoutes").EMAIL_SIGNUP_PATH,onClick:a,children:d("PolarisResetPasswordStrings").CREATE_A_NEW_ACCOUNT})}),i.jsx(c("PolarisIGCoreBox"),{bottom:!0,left:!0,marginTop:d("PolarisUA").isMobile()?0:17,position:d("PolarisUA").isMobile()?"fixed":"static",right:!0,children:i.jsx(c("PolarisIGCoreBox"),{border:!0,color:"ig-secondary-background",height:44,justifyContent:"around",children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",href:d("PolarisLinkBuilder").buildLoginLink("",{source:"reset_password"}),onClick:o,children:d("PolarisResetPasswordStrings").BACK_TO_LOGIN})})})]})]})})]});return g?i.jsx(c("PolarisShell"),{pageIdentifier:c("PolarisPageIdentifierConstants").resetPassword,children:i.jsx(c("PolarisIGCoreBox"),{height:"100%",justifyContent:"center",children:w})}):i.jsx(c("PolarisPlainShell.react"),{className:"x78zum5 xdt5ytf",hideFooter:d("PolarisUA").isMobile(),pageIdentifier:c("PolarisPageIdentifierConstants").resetPassword,title:d("PolarisResetPasswordStrings").RESET_PASSWORD_BUTTON,children:w})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisResetPasswordPageContainer.react",["IGRouter","PolarisResetPasswordPage.react","PolarisRoutes","PolarisSettingsActions","PolarissettingsReducer","PolarisuserSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a,b){var c;b=b.history;var e=d("PolarisuserSelectors").getViewer(a),f=e!==null,g=a==null?void 0:(c=a.auth)==null?void 0:(c=c.accountRecovery)==null?void 0:c.query,h=(c=b.location.state)==null?void 0:(b=c.previousLocation)==null?void 0:b.pathname;function i(){if(g!=null&&g!=="")return g;return f?h===d("PolarisRoutes").PASSWORD_CHANGE_PATH?e==null?void 0:e.username:null:e==null?void 0:e.username}return{apiStatus:d("PolarissettingsReducer").getPasswordResetStatus(a),isLoggedIn:f,isResetProcessing:d("PolarissettingsReducer").isResetProcessing(a),modal:a==null?void 0:(c=a.settings)==null?void 0:c.passwordResetModal,query:i()}}function b(a){return{onSubmitPasswordReset:function(b,c,e,f,g){a(d("PolarisSettingsActions").commitResetPassword(b,c,e,f,g))}}}e=d("IGRouter").withIGRouter(d("react-redux-wwwig").connect(a,b)(c("PolarisResetPasswordPage.react")));g["default"]=e}),98);
__d("PolarisAccountRecoveryPasswordResetRoot.react",["PolarisResetPasswordPageContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.props.routeProps.isCaptchaEnabled;return h.jsx(c("PolarisResetPasswordPageContainer.react"),{isCaptchaEnabled:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);